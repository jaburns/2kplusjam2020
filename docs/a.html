<canvas id=a></canvas><h1 id=s></h1><style onload="g=a.getContext('webgl');for(i in g)g[i[0]+i[7]+[i[13]]]=g[i];k=g.cr(),q='attribute vec4 a;void main(){gl_Position=a;}',r=g.ch(35633),g.so(r,q),g.cS(r),g.ah(k,r),q='precision highp float;uniform mat4 g;float v;vec2 f;float m(vec2 v){return fract(sin(dot(v,vec2(11.,79.)))*400000.);}vec2 r(float v){return v=(v+1.)/2.,vec2(floor(v*255.)/255.,fract(255.*v));}float d(vec2 v){return(v.x/255.+v.y/255./255.)*2.-1.;}int i;vec3 d(vec2 f,vec3 m){if(i>0&&f.x>69.3&&f.x<70.)return f=floor(10.*f),vec3(.2+.8*mod(f.x+f.y,2.));vec3 r=i>0?vec3(0,0,.5)*smoothstep(0.,.1,cos(.1*f.x+v)):vec3(0);f+=.8*sin(.9*f.yx);vec3 x=m*(1.-.05*abs(floor(mod(8.*(f.x+2.-f.y),4.))-2.));return x+r;}vec3 d(vec2 v,float f,vec3 x){f=clamp(f,0.,1.);float m=1.-f,y=1.-sqrt(1.-m*m);return d(v+.2*vec2(-y,y),x)*(1.-.5*pow(clamp(f+.5,.5,1.),2.));}float m(float v,float f){return-length(min(vec2(v,f),0.))+max(min(v,f),0.);}float t(vec2 f){float r=.9+v/2000.,y=m(vec2(v,floor(f.x+.5))),x=m(vec2(v,floor(f.x+1.5))),w=m(vec2(v,floor(f.x-.5))),i=r*m(vec2(v,floor(f.x+.5+9.))),d=r*m(vec2(v,floor(f.x+1.5+9.))),t=r*m(vec2(v,floor(f.x-.5+9.)));if(f.y+i>0.)return-1.;vec2 e=f;e.x=mod(e.x+.5,1.)-.5;float z=length(e+vec2(0,i))-(.7+.5*y),c=length(e+vec2(-1,d))-(.7+.5*x),n=length(e+vec2(1,t))-(.7+.5*w);return min(f.x-.7*f.y-7.,m(m(z,n),c));}vec3 r(vec2 v,vec3 f){float m=t(v);return m<-.045?vec3(0):m<0.?vec3(0):d(v,3.*m,f);}vec3 n(vec2 v){vec2 m=(v-g[0].xy*.5)/g[0].y;m.x+=g[0].w;m*=3.5;m.y-=.9;vec3 e;if(length(m-f)<.05){m-=f;e=1.-vec3(.13,.76,.37);float x=max(8.*length(m-vec2(.04))+.9,0.);e*=1./x/x;}else{i=1;e=r(m,vec3(.13,.76,.37));i=0;if(e==vec3(0)){e=r(2.*m-3.*vec2(g[0].w-99.,-.1),vec3(.65,.31,.11));if(e==vec3(0)){e=r(4.*m-8.*vec2(g[0].w-99.,0),vec3(.65,.31,.11));if(e==vec3(0))e=vec3(.47,.71,1.);else e=mix(e,vec3(.47,.71,1.),.6);}else e=mix(e,vec3(.47,.71,1.),.3);}}return e;}void main(){vec2 e=gl_FragCoord.xy;f=vec2(d(g[1].xy),d(g[1].zw));f.x+=g[3].x;f*=3.5;vec2 m=vec2(d(g[2].xy),d(g[2].zw));bool x=mod(g[0].z,2.)>.9,y=mod(g[0].z/2.,2.)>.9;v=floor(g[0].z/4.);bool i=mod(g[3].z,2.)>.9,c=mod(g[3].z/2.,2.)>.9;int w=int(g[3].w);vec3 z=n(e+.5*vec2(-.75,.25)),o=n(e+.5*vec2(-.25,-.75)),l=n(e+.5*vec2(.25,.75)),a=n(e+.5*vec2(.75,-.25));gl_FragColor=vec4(.25*(z+o+l+a),1);if(e.y<1.&&e.x<4.){m.y-=.01;f+=.05*m;float s=t(f);vec2 u=vec2(.0001,0),h=normalize(vec2(t(f-u.xy)-t(f+u.xy),t(f-u.yx)-t(f+u.yx)));if(s>=-.045){w=0;if(dot(h,m)<0.){f+=h*(s+.045);vec2 p=vec2(h.y,-h.x);m=dot(m,p)*p;}}else{w++;if(w==6)i=false,c=false;if(!i&&y)i=true,c=true,m.y=-1.;if(!c&&x)c=true,m.x+=.5-.5*m.x;}gl_FragColor=vec4(0,0,((i?1.:0.)+(c?2.:0.))/255.,float(w)/255.);if(e.x<2.)f/=3.5,f.x-=g[0].w,gl_FragColor=vec4(r(f.x),r(f.y));else if(e.x<3.)gl_FragColor=vec4(r(m.x),r(m.y));}}',r=g.ch(35632),g.so(r,q),g.cS(r),g.ah(k,r),g.lg(k),g.vto(g.lg(k),2,5120,g.eet(g.ur(k)),g.bf(q=34962,g.cu()),g.ba(q,Uint8Array.of(28,28,28,128,128,28),q+82)),n=0,o=r=>(b=[128,1,128,1,128,1,128,1,255,1,192,1,128,1,128,0],e=new Uint8Array(16),m=$=l=d=f=0,n=r?n:prompt(s.innerText+'\nTrack?',n)|0,c=1),o(),p={},document.onkeydown=q=>p[q.keyCode]=1,document.onkeyup=q=>p[q.keyCode]=0,h=r=>(r|=0,r>9?r:'0'+r),setInterval(r=>(g.re(g.da(4,g.uM4(g.goa(k,'g'),g.vt(0,0,b[0],b[1]),b),3),0,4,1,6408,5121,e),b=Array.from(e),b[0]=a.width=innerWidth,b[1]=a.height=innerHeight,b[2]=p[39]|0+2*p[40]|0+4*n,b[12]=d,i=(b[8]/255+b[9]/255/255)*2-1,$+=i*.05/3.5+c,c=0,f+=(.3*i-f)/99,d=f+$,b[3]=d,b[15]==0?m++:m=0,(m>180||p[82])&&o(1),$>20&&(n+=100,o()),l++,s.innerText=`Track\t${n}\t${h(l/3600)}:${h(l/60%60)}:${h(l/.6%100)}`),16)">html,body,canvas{font-family:monospace;margin:0}h1{color:#137;position:absolute;left:9;top:0