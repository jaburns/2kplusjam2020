<canvas id=a></canvas><h1 id=s></h1><style onload="g=a.getContext('webgl');for(f in g)g[f[0]+f[7]+[f[13]]]=g[f];k=g.cr(),p='attribute vec4 a;void main(){gl_Position=a;}',q=g.ch(35633),g.so(q,p),g.cS(q),g.ah(k,q),p='precision highp float;uniform mat4 g;float v;vec2 f;vec2 m(float v){return v=(v+1.)/2.,vec2(floor(v*255.)/255.,fract(255.*v));}float t(vec2 v){return(v.x/255.+v.y/255./255.)*2.-1.;}float y;const vec3 r=vec3(1),d=vec3(113.,175.,255.)/255.,z=vec3(254.,219.,99.)/255.,e=vec3(229.,106.,111.)/255.,c=vec3(34.,42.,79.)/255.;vec3 m(vec3 v,vec3 m,vec3 y,float f){f=clamp(f,0.,.9999);vec3 d=f<.5?v:m,z=f<.5?m:y;return mix(d,z,2.*mod(f,.5));}vec3 x(float v){return m(d,.5*d,c,v);}vec3 n(float v){return m(d,z,e,v);}vec3 h(float v){return mix(r,z,v);}vec3 s(vec2 v){float f=1.-2.*v.y;v*=40.;float m=length(v-mix(vec2(15),vec2(-15,7.),y)),d=.9*y,z=smoothstep(1.,1.2,m),c=1.-exp(-.2*m);vec3 t=x(d),e=n(d),l=h(d),i=mix(l,mix(t,e,f),c);i=mix(r,i,z);return i;}float h(float v,float y){return-length(min(vec2(v,y),0.))+max(min(v,y),0.);}float l(float f){return fract(sin(dot(vec2(v,floor(f)),vec2(11.,79.)))*400000.);}float p(vec2 f){vec2 m=vec2(mod(f.x+.5,1.)-.5,f.y);float y=abs(v/1000.),z=l(f.x+.5+9.)*(.9+y),d=length(m+vec2(0,z-.5*y))-.7-.6*l(f.x+.5),c=length(m+vec2(-1,l(f.x+1.5+9.)*(.9+y)-.5*y))-.7-.6*l(f.x+1.5),e=length(m+vec2(1,l(f.x-.5+9.)*(.9+y)-.5*y))-.7-.6*l(f.x-.5);return v>0.&&f.y+z>0.?-1.:min(f.x-.7*f.y-7.,h(h(d,e),c));}vec2 i(vec2 v){vec2 f=vec2(.0001,0);return normalize(vec2(p(v-f.xy)-p(v+f.xy),p(v-f.yx)-p(v+f.yx)));}vec3 w(float v){return.45+.51*clamp(abs(mod(fract(v)*6.+vec3(0,4,2),6.)-3.)-1.5,-.5,.5);}vec3 a(vec2 m){float z,x=fract(v*.11);vec2 r=(m-g[0].xy*.5)/g[0].y;vec3 t=s(r);r.x+=g[0].w;r*=3.5;r.y-=.9;if(length(r-f)<.05){r-=f;vec2 e=mix(vec2(.04),vec2(-.04,.04),y);z=max(8.*length(r-e)+.9,0.);return w(x+.5)/z/z;}for(float l=0.;l<3.;l++){vec2 e=pow(2.,l)*r-(pow(l+1.,2.)-1.)*vec2(g[0].w-99.,.1*l-.2),n=i(e);z=p(e);if(z>0.){z*=l>0.?.5:2.;z=min(1.,z);float a=1.-sqrt(2.*z-z*z);vec2 h=i(e);e+=(l>0.?1.:.5)*vec2(-a,a);if(l==0.&&e.x>69.3&&e.x<70.)return e=floor(10.*e),vec3(.2+.8*mod(e.x+e.y,2.));e+=.8*sin(.9*e.yx);vec2 o=mix(vec2(1),vec2(-1,.5),y);vec3 u=w(l==0.?x:x-.3)*(1.-.05*abs(floor(mod(8.*(e.x+2.-e.y),4.))-2.))*(.5+a*(.2+max(0.,dot(normalize(o),h))));return mix(mix(u,d,l*.3),c,.4*y);}}return t;}void main(){vec2 e=gl_FragCoord.xy,z=vec2(t(g[2].xy),t(g[2].zw));f=vec2(t(g[1].xy),t(g[1].zw));f.x+=g[3].x;f*=3.5;v=floor(g[0].z/4.);y=.5-.5*cos(v/2.);int l=int(mod(g[0].z,2.)),c=int(mod(g[0].z/2.,2.)),d=int(mod(g[3].z,4.)),r=int(g[3].w);gl_FragColor=vec4((a(e+.5*vec2(-.75,.25))+a(e+.5*vec2(-.25,-.75))+a(e+.5*vec2(.25,.75))+a(e+.5*vec2(.75,-.25)))/4.,1);if(e.y<1.&&e.x<4.){z.y-=.01;f+=.05*z;float x=p(f);vec2 n=i(f),w=vec2(n.y,-n.x);if(x>=-.045){r=0;if(dot(n,z)<0.)f+=n*(x+.045),z=dot(z,w)*w;}else{if(++r==6)d=0;if(d<2&&c==1)d=2,z.y=-1.;if(d+1==l)d=1,z.x+=.5-.5*z.x;}f/=3.5;f.x-=g[0].w;gl_FragColor=e.x<2.?vec4(m(f.x),m(f.y)):e.x<3.?vec4(m(z.x),m(z.y)):vec4(ivec4(0,0,d,r))/255.;}}',q=g.ch(35632),g.so(q,p),g.cS(q),g.ah(k,q),console.log(g.geL(q)),g.lg(k),g.vto(g.lg(k),2,5120,g.eet(g.ur(k)),g.bf(p=34962,g.cu()),g.ba(p,Uint8Array.of(28,28,28,128,128,28),p+82)),m=0,n=p=>(b=[128,1,128,1,128,1,128,1,255,1,192,1,128,1,128,0],e=new Uint8Array(16),$=l=d=f=0,m=p?m:prompt(s.innerText+'\nTrack?',m+1)|0,c=1,o={}),n(),document.onkeydown=p=>o[p.keyCode]=1,document.onkeyup=p=>o[p.keyCode]=0,h=p=>(p|=0,p>9?p:'0'+p),setInterval(p=>(g.re(g.da(4,g.uM4(g.goa(k,'g'),g.vt(0,0,b[0],b[1]),b),3),0,4,1,6408,5121,e),b=Array.from(e),b[0]=a.width=innerWidth,b[1]=a.height=innerHeight,b[2]=o[39]|0+2*o[40]|0+4*m,b[12]=d,i=(b[8]/255+b[9]/255/255)*2-1,$+=i*.05/3.5+c,c=0,f+=(i/3-f)/99,d=f+$,b[3]=d,o[82]&&n(1),$>20&&n(),s.innerText=`Track ${m} > ${h(++l/3600)}:${h(l/60%60)}:${h(l/.6%100)}`),16)">html,body,canvas{font-family:monospace;margin:0}h1{position:absolute;left:40%;top:0