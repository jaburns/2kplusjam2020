<canvas id=a></canvas><h1 id=s></h1><style onload="g=a.getContext('webgl');for(f in g)g[f[0]+f[7]+[f[13]]]=g[f];k=g.cr(),u='attribute vec4 a;void main(){gl_Position=a;}',v=g.ch(35633),g.so(v,u),g.cS(v),g.ah(k,v),u='precision highp float;uniform mat4 g;uniform vec2 z;float v,x,f;vec2 y;vec2 t(float y){return y=(y+1.)/2.,vec2(floor(y*255.)/255.,fract(255.*y));}float m(vec2 y){return(y.x/255.+y.y/255./255.)*2.-1.;}float m(float v,float y){return-length(min(vec2(v,y),0.))+max(min(v,y),0.);}float n(float y){return fract(sin(dot(vec2(v,floor(y)),vec2(11.,79.)))*400000.);}float n(vec2 y,float x){float f=.7+.6*n(y.x+x);y=vec2(abs(mod(y.x+.5,1.)-x),y.y+n(y.x+x+9.)*v/5.-v/12.);return dot(y,vec2(.3,.95))<0.?length(y)-f:dot(y,vec2(.95,-.3))-f;}float d(vec2 y){return min(y.x-.7*y.y-3.,m(m(n(y,.5),n(y,-.5)),n(y,1.5)));}vec2 h(vec2 y){vec2 v=vec2(.0001,0);return normalize(vec2(d(y-v.xy)-d(y+v.xy),d(y-v.yx)-d(y+v.yx)));}vec3 r(float y){return.45+.51*(clamp(abs(mod(fract(y)*6.+vec3(0,4,2),6.)-3.)-1.,0.,1.)-.5);}vec3 s(vec2 f){vec2 m=vec2(floor(g[0].x/100000.),mod(g[0].x,100000.)),s=(f-m*.5)/m.y;float t=fract(.2+v*.1),i=length(40.*s-vec2(15,7));vec3 n=mix(vec3(1),mix(vec3(1,.86,.39),mix(vec3(.13,.16,.31),vec3(.9,.42,.44),1.-2.*s.y),1.-exp(-.2*i)),step(1.,i));s.x+=g[0].y;s*=3.5;s.y-=.9;vec3 c=vec3(length(s-3.5*z)<.06?.1:0.);if(length(s-y)<.06)return s-=y,i=max(7.*length(s-vec2(.04))+.9,0.),dot(s,vec2(sin(x),cos(x)))>0.?vec3(1)/i/i:r(t+.5)/i/i;for(float l=0.;l<3.;l++){vec2 a=pow(2.,l)*s-(pow(l+1.,2.)-1.)*vec2(g[0].w-99.,.1*l-.2),w=h(a);i=d(a);if(i>0.){i*=l==0.?2.:.5;i=min(1.,i);float e=1.-sqrt(2.*i-i*i);a+=(l==0.?.5:1.)*vec2(-e,e);if(l==0.&&a.x>34.3&&a.x<35.)return a=floor(10.*a),c+vec3(.2+.8*mod(a.x+a.y,2.));a+=.8*sin(.9*a.yx);vec3 p=r(l==0.?t:t-.3)*(1.-.1*abs(floor(mod(8.*(a.x+2.-a.y),4.))-2.))*(.5+e*(.2+max(0.,dot(vec2(.8,.6),w))));return c+mix(vec3(.13,.16,.31),mix(p,vec3(.44,.69,1),l*.3),.6);}}return c+n;}void main(){float l=g[3].w;x=.0246*g[3].x;f=2.*g[3].y/255.-1.;v=g[3].z;vec2 a=gl_FragCoord.xy,i=vec2(m(g[2].xy),m(g[2].zw));y=vec2(m(g[1].xy),m(g[1].zw));y.x+=g[0].y;y*=3.5;gl_FragColor=vec4((s(a+vec2(-.375,.125))+s(a+vec2(-.125,-.375))+s(a+vec2(.125,.375))+s(a+vec2(.375,-.125)))/4.,1);if(a.y<1.&&a.x<4.){i.y-=.02;y+=.05*i;x+=f;vec2 n=h(y),w=vec2(n.y,-n.x);if(d(y)>=-.055){if(dot(n,i)<0.)y+=n*(d(y)+.055),i=dot(i,w)*w,f=.6*length(i)*sign(i.x*n.y-i.y*n.x);l=0.;}else{if(g[0].z>1.)i.y=-1.,f=0.;if(l<7.)l++;}if(l<7.&&mod(g[0].z,2.)>0.)l=7.,i.y=max(.5,i.y+.5);y/=3.5;y.x-=g[0].w;gl_FragColor=a.x<2.?vec4(t(y.x),t(y.y)):a.x<3.?vec4(t(i.x),t(i.y)):vec4(fract(x/6.28),(f+1.)/2.,0,l/255.);}}',v=g.ch(35632),g.so(v,u),g.cS(v),g.ah(k,v),console.log(g.geL(v)),g.vto(g.lg(k),2,5120,g.eet(g.ur(k)),g.bf(u=34962,g.cu()),g.ba(u,Uint8Array.of(1,1,1,128,128,1),u+82)),h=u=>(u|=0,u>9?u:`0`+u),d=(u,v,g)=>g?``:v+` - ${h(u/3600)}:${h(u/60%60)}:${h(u/.6%100)}`,l=m=n=0,o=u=>(e=Uint8Array.from(b=[0,0,0,0,128,1,128,1,255,1,192,1,0,100,0,0]),n=Math.min(10,Math.max(1,u?n:(p=JSON.parse(localStorage.getItem(n)||`[1e9,[]]`),m<p[0]&&localStorage.setItem(n,JSON.stringify(p=[m,l])),prompt(d(p[0],`Best`,!n)+`\nTrack? (1-10)`,n+1)|0))),l=[],q=t=$=m=c=f=0,p=JSON.parse(localStorage.getItem(n)||`[1e9,[]]`)),o(),document.onkeydown=u=>q[u.keyCode]=!u.repeat,r=u=>(g.vt(0,0,a.width=innerWidth,a.height=innerHeight),console.log(Array.isArray(p[1])?p[1][0]:''),g.uM4(g.goa(k,`g`),0,b),g.uniform2fv(g.goa(k,`z`),Array.isArray(p[1])?p[1].shift():[0,0]),g.re(g.da(4,0,3),0,4,1,6408,5121,e),b=Array.from(e),b[0]=1e5*a.width+a.height,b[2]=!t&&q[38]|0+2*q[40]|0,b[14]=n,b[1]=c,i=(b[8]/255+b[9]/255/255)*2-1,$+=i*.05/3.5,f+=(i/3-f)/99,l.push([(b[4]/255+b[5]/255/255)*2-1+c,(b[6]/255+b[7]/255/255)*2-1]),t&&t++||(c=f+$,m++,t=$>10),t>180&&o(),b[3]=c,q[82]&&o(1),q={},s.innerText=d(m,`Track `+n),requestAnimationFrame(r)),r()">html,body,canvas{font-family:monospace;margin:0}h1{color:#da5;position:absolute;left:40%;top:0